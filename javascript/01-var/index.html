<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../root.css">
  <title>Document</title>
</head>

<body>
  var


  <script type="module">

    import { initTheme } from "/javascript/theme/theme.init.js"

    window.onload = () => {
      initTheme()
      // agora vai abrir o menu corretamente se estava aberto antes
    }

    const darkMode = localStorage.getItem("darkMode");
    const isDark =
      darkMode === "true" ||
      (darkMode === null && window.matchMedia("(prefers-color-scheme: dark)").matches);

    document.documentElement.setAttribute("data-theme", isDark ? "dark" : "light");

    // Atualiza ícones já na primeira renderização
    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll(".icon-moon").forEach(el => el.classList.toggle("hidden", isDark));
      document.querySelectorAll(".icon-sun").forEach(el => el.classList.toggle("hidden", !isDark));
    });
  </script>
</body>

</html>